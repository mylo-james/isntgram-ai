# Story 1.9: Demo Mode Access

**Status**: Approved

## Story

**As a recruiter**, I want a "Try our demo" button on the login page, so that I can instantly access the application
without registering.

## Acceptance Criteria

1. A "Try our demo" button is clearly visible on the `/login` page.
2. Clicking the button logs the user in as a pre-defined, read-only demo user without requiring a password.
3. The demo user session is established, and the user is redirected to the main feed.
4. The demo user account exists in the database with pre-populated data (e.g., posts, followers) to showcase the
   application's features.

## Tasks / Subtasks

- [ ] **Task 1: Create Demo User Account** (AC: 4)
  - [ ] Create demo user account in database with pre-populated data
  - [ ] Add demo user posts, followers, and following relationships
  - [ ] Ensure demo user has realistic profile information
  - [ ] Create database migration for demo user setup
  - [ ] Add demo user configuration to environment variables

- [ ] **Task 2: Add Demo Button to Login Page** (AC: 1)
  - [ ] Add "Try our demo" button to `apps/web/app/login/page.tsx`
  - [ ] Style button to be prominent and clearly visible
  - [ ] Position button appropriately in login page layout
  - [ ] Add hover effects and accessibility features
  - [ ] Ensure button works on mobile and desktop

- [ ] **Task 3: Implement Demo Authentication** (AC: 2)
  - [ ] Create demo authentication endpoint `POST /api/auth/demo`
  - [ ] Implement Auth.js demo provider or custom authentication
  - [ ] Add demo user session management
  - [ ] Create demo authentication service in frontend
  - [ ] Add loading states and error handling

- [ ] **Task 4: Create Demo Data Seeding** (AC: 4)
  - [ ] Create database seeder for demo user data
  - [ ] Add sample posts with images and captions
  - [ ] Create follower/following relationships for demo user
  - [ ] Add sample comments and likes on posts
  - [ ] Ensure demo data is realistic and showcases features

- [ ] **Task 5: Implement Demo Session Management** (AC: 3)
  - [ ] Create demo session handling in Auth.js configuration
  - [ ] Implement demo user state management in Redux
  - [ ] Add demo user identification in UI components
  - [ ] Create demo session expiration and cleanup
  - [ ] Add demo mode indicators in navigation

- [ ] **Task 6: Add Demo Mode Restrictions** (AC: 2)
  - [ ] Implement read-only restrictions for demo user
  - [ ] Disable create/edit/delete actions for demo user
  - [ ] Add demo mode warnings for restricted actions
  - [ ] Create demo mode UI indicators
  - [ ] Add demo mode help/tooltip information

- [ ] **Task 7: Create Comprehensive Tests** (Testing Requirements)
  - [ ] Create `apps/web/app/login/page.test.tsx` with demo button tests
  - [ ] Test demo authentication flow and session creation
  - [ ] Test demo user data display and restrictions
  - [ ] Create backend API tests for demo authentication
  - [ ] Test demo mode UI indicators and restrictions

## Dev Notes

### Previous Story Insights

- Story 1.8 completed edit profile functionality with form validation
- User profile management and update capabilities implemented
- Authentication system fully functional with Auth.js integration
- Profile page with dynamic routing and user data display completed

### Data Models

**Demo User Configuration**:

```typescript
export interface DemoUser {
  id: string;
  username: string;
  fullName: string;
  email: string;
  profilePictureUrl: string;
  bio: string;
  isDemoUser: boolean;
  demoData: {
    posts: DemoPost[];
    followers: string[];
    following: string[];
  };
}
```

### API Endpoints

- `POST /api/auth/demo` - Authenticate as demo user
- `GET /api/demo/data` - Get demo user data and relationships
- `POST /api/demo/reset` - Reset demo user data (for testing)

### Key Dependencies

- Auth.js for demo session management
- Database seeder for demo data creation
- Redux for demo user state management
- Tailwind CSS for demo button styling
- React Testing Library for component testing

## Testing

- Unit tests for demo authentication and session management
- Integration tests for demo data creation and display
- E2E tests with Playwright for complete demo flow
- Test coverage requirements: 80% for new code
- Test demo mode restrictions and UI indicators

## Change Log

| Date       | Version | Description            | Author             |
| ---------- | ------- | ---------------------- | ------------------ |
| 2025-01-XX | 1.0     | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used

TBD

### Debug Log References

- TBD

### Completion Notes List

- TBD

### File List

- TBD
